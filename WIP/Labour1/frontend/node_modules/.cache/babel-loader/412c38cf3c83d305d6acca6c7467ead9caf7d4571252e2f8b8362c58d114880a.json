{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport server from '../../../utilites/connection';\nconst logURI = '/auth/login';\nconst regURI = '/auth/registration';\nconst initialState = {\n  newUser: {\n    userName: '',\n    email: '',\n    phone: '',\n    password: '',\n    token: null,\n    isLoading: false,\n    status: null\n  },\n  userLogin: {\n    data: null,\n    status: null\n  }\n};\nexport const LoginAttempt = createAsyncThunk('auth/LoginAttempt', async params => {\n  try {\n    const res = await server.post(logURI, params);\n    return res.data;\n  } catch (e) {\n    console.log(`Login failed: ${e}`);\n  }\n});\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [LoginAttempt.pending]: state => {\n      state.userLogin.status = 'loading';\n      state.userLogin.data = null;\n    },\n    [LoginAttempt.fulfilled]: (state, action) => {\n      state.userLogin.status = 'complete';\n      state.userLogin.data = action.payload;\n    },\n    [LoginAttempt.rejected]: state => {\n      state.userLogin.status = 'error';\n      state.userLogin.data = null;\n    }\n  }\n});\n\n// checking if user = authorized\nexport function isAuthorized(state) {\n  return Boolean(state.auth.data);\n}\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","server","logURI","regURI","initialState","newUser","userName","email","phone","password","token","isLoading","status","userLogin","data","LoginAttempt","params","res","post","e","console","log","authSlice","name","reducers","extraReducers","pending","state","fulfilled","action","payload","rejected","isAuthorized","Boolean","auth","reducer"],"sources":["C:/Users/sobol/Documents/Git/handover/WIP/Labour1/frontend/src/redux/features/auth/authSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport server from '../../../utilites/connection';\r\n\r\nconst logURI = '/auth/login';\r\nconst regURI = '/auth/registration';\r\n\r\nconst initialState = {\r\n  newUser: {\r\n    userName: '',\r\n    email: '',\r\n    phone: '',\r\n    password: '',\r\n    token: null,\r\n    isLoading: false,\r\n    status: null,\r\n  },\r\n  userLogin: {\r\n    data: null,\r\n    status: null,\r\n  },\r\n};\r\n\r\nexport const LoginAttempt = createAsyncThunk(\r\n  'auth/LoginAttempt',\r\n  async (params) => {\r\n    try {\r\n      const res = await server.post(logURI, params);\r\n      return res.data;\r\n    } catch (e) {\r\n      console.log(`Login failed: ${e}`);\r\n    }\r\n  }\r\n);\r\n\r\nexport const authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: {\r\n    [LoginAttempt.pending]: (state) => {\r\n      state.userLogin.status = 'loading';\r\n      state.userLogin.data = null;\r\n    },\r\n    [LoginAttempt.fulfilled]: (state, action) => {\r\n      state.userLogin.status = 'complete';\r\n      state.userLogin.data = action.payload;\r\n    },\r\n    [LoginAttempt.rejected]: (state) => {\r\n      state.userLogin.status = 'error';\r\n      state.userLogin.data = null;\r\n    },\r\n  },\r\n});\r\n\r\n// checking if user = authorized\r\nexport function isAuthorized(state) {\r\n  return Boolean(state.auth.data);\r\n}\r\n\r\nexport default authSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,MAAM,MAAM,8BAA8B;AAEjD,MAAMC,MAAM,GAAG,aAAa;AAC5B,MAAMC,MAAM,GAAG,oBAAoB;AAEnC,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAE;IACPC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,IAAI;IACXC,SAAS,EAAE,KAAK;IAChBC,MAAM,EAAE;EACV,CAAC;EACDC,SAAS,EAAE;IACTC,IAAI,EAAE,IAAI;IACVF,MAAM,EAAE;EACV;AACF,CAAC;AAED,OAAO,MAAMG,YAAY,GAAGf,gBAAgB,CAC1C,mBAAmB,EACnB,MAAOgB,MAAM,IAAK;EAChB,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMhB,MAAM,CAACiB,IAAI,CAAChB,MAAM,EAAEc,MAAM,CAAC;IAC7C,OAAOC,GAAG,CAACH,IAAI;EACjB,CAAC,CAAC,OAAOK,CAAC,EAAE;IACVC,OAAO,CAACC,GAAG,CAAE,iBAAgBF,CAAE,EAAC,CAAC;EACnC;AACF,CAAC,CACF;AAED,OAAO,MAAMG,SAAS,GAAGvB,WAAW,CAAC;EACnCwB,IAAI,EAAE,MAAM;EACZnB,YAAY;EACZoB,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAE;IACb,CAACV,YAAY,CAACW,OAAO,GAAIC,KAAK,IAAK;MACjCA,KAAK,CAACd,SAAS,CAACD,MAAM,GAAG,SAAS;MAClCe,KAAK,CAACd,SAAS,CAACC,IAAI,GAAG,IAAI;IAC7B,CAAC;IACD,CAACC,YAAY,CAACa,SAAS,GAAG,CAACD,KAAK,EAAEE,MAAM,KAAK;MAC3CF,KAAK,CAACd,SAAS,CAACD,MAAM,GAAG,UAAU;MACnCe,KAAK,CAACd,SAAS,CAACC,IAAI,GAAGe,MAAM,CAACC,OAAO;IACvC,CAAC;IACD,CAACf,YAAY,CAACgB,QAAQ,GAAIJ,KAAK,IAAK;MAClCA,KAAK,CAACd,SAAS,CAACD,MAAM,GAAG,OAAO;MAChCe,KAAK,CAACd,SAAS,CAACC,IAAI,GAAG,IAAI;IAC7B;EACF;AACF,CAAC,CAAC;;AAEF;AACA,OAAO,SAASkB,YAAY,CAACL,KAAK,EAAE;EAClC,OAAOM,OAAO,CAACN,KAAK,CAACO,IAAI,CAACpB,IAAI,CAAC;AACjC;AAEA,eAAeQ,SAAS,CAACa,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}